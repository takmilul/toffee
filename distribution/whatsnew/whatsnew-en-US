1. Fixed some bugs and performance improvements.